const a={source:"local",localPath:"/particles.json",remoteUrl:"https://api.caglarorhan.com/particles",remoteOptions:{method:"GET",headers:{"Content-Type":"application/json"},cacheDuration:3e5},fallbackToLocal:!0,debug:!0};let e=null,t=null;async function o(){const{source:o,localPath:r,remoteUrl:l,remoteOptions:c,fallbackToLocal:s,debug:n}=a,i=n?console.log:()=>{};if(e&&t){if(Date.now()-t<c.cacheDuration)return i("[Particles] Using cached data"),e}try{if("remote"===o){i("[Particles] Fetching from remote API:",l);const a=await fetch(l,{method:c.method,headers:c.headers});if(!a.ok)throw new Error(`Remote API error: ${a.status}`);const o=await a.json();return i("[Particles] Remote data loaded:",o.length,"particles"),e=o,t=Date.now(),o}{i("[Particles] Fetching from local JSON:",r);const a=await fetch(r);if(!a.ok)throw new Error(`Local file error: ${a.status}`);const o=await a.json();return i("[Particles] Local data loaded:",o.length,"particles"),e=o,t=Date.now(),o}}catch(h){if(console.error("[Particles] Error loading data:",h.message),"remote"===o&&s){i("[Particles] Falling back to local JSON...");try{const a=await fetch(r),o=await a.json();return i("[Particles] Fallback data loaded:",o.length,"particles"),e=o,t=Date.now(),o}catch(d){console.error("[Particles] Fallback also failed:",d.message)}}return[]}}export{a as default,o as fetchParticles};
